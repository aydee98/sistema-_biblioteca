<div class="dashboard-container">
  
  <div class="dashboard-header">
    <div class="welcome-section">
      <h1>Dashboard</h1>
      <p>Bienvenido al panel de administraci√≥n del sistema</p>
    </div>
    <div class="date-section">
      <span class="current-date">{{ getCurrentDate() }}</span>
    </div>
  </div>

  
  @if (isLoading) {
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <p>Cargando datos del dashboard...</p>
    </div>
  } @else {
    
    <div class="stats-grid">
      @for (stat of stats; track stat.title) {
        <div class="stat-card" [class]="'stat-' + stat.color">
          <div class="stat-icon">
            {{ stat.icon }}
          </div>
          <div class="stat-content">
            <h3 class="stat-title">{{ stat.title }}</h3>
            <p class="stat-value">{{ stat.value }}</p>
            @if (stat.change) {
              <div class="stat-change">
                <span [class]="'change-indicator ' + (stat.change > 0 ? 'positive' : 'negative')">
                  {{ stat.change > 0 ? '‚Üó' : '‚Üò' }} {{ Math.abs(stat.change) }}%
                </span>
                <span class="change-text">desde el √∫ltimo mes</span>
              </div>
            }
          </div>
        </div>
      }
    </div>

    
    <div class="content-grid">
      
      <div class="card recent-activities">
        <div class="card-header">
          <h2>Actividad Reciente</h2>
          <span class="badge">{{ recentActivities.length }}</span>
        </div>
        <div class="card-content">
          @if (recentActivities.length === 0) {
            <div class="empty-state">
              <p>No hay actividad reciente</p>
            </div>
          } @else {
            <div class="activities-list">
              @for (activity of recentActivities; track activity.id) {
                <div class="activity-item">
                  <div class="activity-icon" [class]="getActivityColor(activity.type)">
                    {{ getActivityIcon(activity.type) }}
                  </div>
                  <div class="activity-content">
                    <p class="activity-action">{{ activity.action }}</p>
                    <p class="activity-user">{{ activity.user }}</p>
                  </div>
                  <div class="activity-time">
                    {{ activity.time }}
                  </div>
                </div>
              }
            </div>
          }
        </div>
      </div>

      
      <div class="card quick-actions">
        <div class="card-header">
          <h2>Acciones R√°pidas</h2>
        </div>
        <div class="card-content">
          <div class="actions-grid">
            <button class="action-btn primary" routerLink="/users">
              <span class="action-icon">üë•</span>
              <span class="action-text">Gestionar Usuarios</span>
            </button>
            
            <button class="action-btn success" routerLink="/courses">
              <span class="action-icon">üìö</span>
              <span class="action-text">Gestionar Cursos</span>
            </button>
            
            <button class="action-btn warning">
              <span class="action-icon">üìä</span>
              <span class="action-text">Ver Reportes</span>
            </button>
            
            <button class="action-btn info">
              <span class="action-icon">‚öôÔ∏è</span>
              <span class="action-text">Configuraci√≥n</span>
            </button>
          </div>
        </div>
      </div>

      
      <div class="card system-status">
        <div class="card-header">
          <h2>Estado del Sistema</h2>
        </div>
        <div class="card-content">
          <div class="status-list">
            <div class="status-item online">
              <span class="status-dot"></span>
              <span class="status-text">Servidor Web</span>
              <span class="status-badge">En l√≠nea</span>
            </div>
            <div class="status-item online">
              <span class="status-dot"></span>
              <span class="status-text">Base de Datos</span>
              <span class="status-badge">En l√≠nea</span>
            </div>
            <div class="status-item online">
              <span class="status-dot"></span>
              <span class="status-text">API Services</span>
              <span class="status-badge">En l√≠nea</span>
            </div>
            <div class="status-item maintenance">
              <span class="status-dot"></span>
              <span class="status-text">Backup System</span>
              <span class="status-badge">En mantenimiento</span>
            </div>
          </div>
        </div>
      </div>

      
      <div class="card chart-card">
        <div class="card-header">
          <h2>Usuarios Registrados</h2>
          <span class="chart-period">√öltimos 30 d√≠as</span>
        </div>
        <div class="card-content">
          <div class="chart-placeholder">
            <div class="chart-bars">
              @for (bar of [65, 80, 75, 90, 85, 95, 100, 110, 105, 115, 120, 124]; track $index) {
                <div class="chart-bar" [style.height.%]="bar / 1.5"></div>
              }
            </div>
            <div class="chart-labels">
              <span>Ene</span>
              <span>Feb</span>
              <span>Mar</span>
              <span>Abr</span>
              <span>May</span>
              <span>Jun</span>
              <span>Jul</span>
              <span>Ago</span>
              <span>Sep</span>
              <span>Oct</span>
              <span>Nov</span>
              <span>Dic</span>
            </div>
          </div>
          <div class="chart-summary">
            <p>Crecimiento del <strong>15%</strong> en el √∫ltimo mes</p>
          </div>
        </div>
      </div>
    </div>
  }
</div>
